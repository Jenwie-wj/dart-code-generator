# Quick Start Guide

Get started with the Dart Code Generator in 5 minutes!

## Prerequisites

- Dart SDK >= 3.0.0

## Installation

```bash
# Clone the repository
git clone https://github.com/Jenwie-wj/dart-code-generator.git
cd dart-code-generator

# Install dependencies
dart pub get
```

## Basic Usage

### Step 1: Prepare Your Source Files

Create a source folder with this structure:

```
my_project/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ user_api.dart
â””â”€â”€ model/
    â””â”€â”€ user_models.dart
```

**Example: api/user_api.dart**
```dart
class UserApi {
  Future<GwResUserInfo> getUserInfo(String token, GwReqGetUser body) async {
    // Your API implementation
    return GwResUserInfo(name: 'John', age: 30);
  }
  
  Future<NoneObject> logout(String token) async {
    // Your logout implementation
    return NoneObject();
  }
}
```

**Example: model/user_models.dart**
```dart
class GwResUserInfo {
  const GwResUserInfo({required this.name, required this.age});
  final String name;
  final int age;
}

class GwReqGetUser {
  const GwReqGetUser({required this.userId});
  final String userId;
}

class NoneObject {
  const NoneObject();
}
```

### Step 2: Run the Generator

```bash
dart run bin/dart_code_generator.dart -s ./my_project -o ./output
```

### Step 3: Check the Output

The generator creates:

```
output/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ user_api_helper.dart
â””â”€â”€ models/
    â”œâ”€â”€ res_user_info.dart
    â””â”€â”€ req_get_user.dart
```

**Generated: api/user_api_helper.dart**
```dart
abstract class UserApiHelper {
  static Future<ResUserInfo> getUserInfo(String token, ReqGetUser body) async {
    final GwResUserInfo res = await UserApi().getUserInfo(
      token, 
      GwReqGetUser(userId: body.userId)
    );
    return ResUserInfo(name: res.name, age: res.age);
  }
  
  static Future<void> logout(String token) async {
    await UserApi().logout(token);
  }
}
```

### Step 4: Update Import Paths

The generated files include TODO comments for imports:

```dart
// NOTE: Update this import path to point to your original API file:
// import 'package:your_package/api/user_api.dart';
```

Update these to match your project structure.

## Try the Examples

We've included working examples in the repository:

```bash
# Generate example output
./generate_examples.sh

# View the results
cat example_output/api/user_api_helper.dart
cat example_output/models/res_user_info.dart
```

## Common Use Cases

### Use Case 1: REST API Wrapper

If you have a low-level API client with `GwRes*` and `GwReq*` models, generate a clean wrapper:

```bash
dart run bin/dart_code_generator.dart \
  -s ./lib/internal/api \
  -o ./lib/public/api
```

### Use Case 2: SDK Migration

Migrating from one API version to another:

```bash
dart run bin/dart_code_generator.dart \
  -s ./lib/api/v1 \
  -o ./lib/api/v2
```

### Use Case 3: Mock/Test Helpers

Generate test helpers from your production API:

```bash
dart run bin/dart_code_generator.dart \
  -s ./lib/api \
  -o ./test/helpers
```

## Transformation Cheat Sheet

| Original | Generated | Notes |
|----------|-----------|-------|
| `GwResUserInfo` | `ResUserInfo` | Response model |
| `GwReqLogin` | `ReqLogin` | Request model |
| `Future<NoneObject>` | `Future<void>` | Empty response |
| `NoneObject param` | (removed) | Parameter filtered |
| Value-only model | Enum | Auto-detected |

## Troubleshooting

### Issue: "API directory not found"
**Solution:** Ensure your source folder has an `api/` subdirectory.

### Issue: "Model directory not found"
**Solution:** Ensure your source folder has a `model/` subdirectory.

### Issue: Generated file won't compile
**Solution:** Update the import paths in the generated files (see TODO comments).

### Issue: Type conversion not working
**Solution:** Ensure all referenced models exist in the `model/` directory.

## Next Steps

1. âœ… Read [USAGE.md](USAGE.md) for detailed documentation
2. âœ… Check [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) for technical details
3. âœ… Review [IMPLEMENTATION_SUMMARY.md](IMPLEMENTATION_SUMMARY.md) for features
4. âœ… Customize the generated code to fit your project

## Getting Help

- Check the [README.md](README.md) for requirements
- Review the test input files in `test_input/`
- Look at example output in `example_output/` (generated by `./generate_examples.sh`)

## Tips

1. **Start Small**: Test with a single API file first
2. **Check Output**: Always review generated files before using them
3. **Update Imports**: Don't forget to update the TODO import comments
4. **Version Control**: Commit generated files or add to `.gitignore` as needed
5. **Iterate**: Re-run the generator when your API changes

Happy coding! ðŸŽ‰
